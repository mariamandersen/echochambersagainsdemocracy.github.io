
    :root {
      --bg: #0f172a;
      --card: #0b1120;
      --accent: #38bdf8;
      --accent-soft: rgba(56, 189, 248, 0.15);
      --text: #e5e7eb;
      --muted: #9ca3af;
      --danger: #fb7185;
      --success: #4ade80;
      --border: #1f2937;
      --radius-xl: 18px;
    }

    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Segoe UI", sans-serif;
    }

    body {
      margin: 0;
      min-height: 100vh;
      background: radial-gradient(circle at top, #1e293b 0, #020617 45%, #000 100%);
      color: var(--text);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1.5rem;
    }

    .app-shell {
      width: calc(100% - 3rem);
      max-width: 100%;
      height: calc(100vh - 3rem);
      background: linear-gradient(145deg, #020617, #020617);
      border-radius: 18px;
      border: 1px solid rgba(148, 163, 184, 0.18);
      box-shadow:
        0 20px 60px rgba(15, 23, 42, 0.85);
      padding: 2rem;
      position: relative;
      overflow: auto;
    }
    
    .app-shell::before {
      content: "";
      position: absolute;
      inset: -25%;
      background:
        radial-gradient(circle at 0 0, rgba(56, 189, 248, 0.14), transparent 50%),
        radial-gradient(circle at 100% 100%, rgba(94, 234, 212, 0.10), transparent 55%);
      opacity: 0.75;
      mix-blend-mode: screen;
      pointer-events: none;
    }

    .content {
      position: relative;
      z-index: 1;
      display: flex;
      flex-direction: column;
      height: calc(100vh - 6rem); /* fill the app-shell area */
      min-height: 0;
    }

    h1, h2, h3 {
      margin: 0 0 0.5rem 0;
    }

    h1 {
      font-size: clamp(1.6rem, 2.1vw, 2rem);
      letter-spacing: 0.03em;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      padding: 0.25rem 0.7rem;
      border-radius: 999px;
      background: rgba(15, 118, 110, 0.1);
      border: 1px solid rgba(45, 212, 191, 0.4);
      color: #a5f3fc;
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
    }

    .subtitle {
      color: var(--muted);
      margin-bottom: 1rem;
      max-width: 40rem;
      font-size: 0.9rem;
    }

    .card {
      background: linear-gradient(145deg, rgba(15, 23, 42, 0.96), rgba(15, 23, 42, 0.94));
      border-radius: var(--radius-xl);
      border: 1px solid var(--border);
      padding: 1.25rem 1.4rem;
      margin-bottom: 1rem;
      box-shadow:
        0 18px 45px rgba(15, 23, 42, 0.75),
        0 0 0 1px rgba(15, 23, 42, 0.9);
      backdrop-filter: blur(16px);
      display: flex;
      flex-direction: column;
      flex: 1 1 auto;
      min-height: 0; /* allow children to scroll properly */
    }
    /* keep action buttons pinned to the bottom of the card */
    .card > .buttons-row {
      margin-top: auto;
    }
    /* make the perspectives area grow and scroll if needed */
    .perspectives {
      display: grid;
      /* make cards larger and easier to read */
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 1rem;
      margin-top: 0.9rem;
      align-items: start;
      /* allow the perspectives area to grow and scroll if inside a flex card */
      flex: 1 1 auto;
      min-height: 0;
      overflow: auto;
    }

    .mode-tag {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--muted);
      margin-bottom: 0.5rem;
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
    }

    .mode-tag span.dot {
      width: 9px;
      height: 9px;
      border-radius: 999px;
    }

    .dot.Frictionless {
      background: radial-gradient(circle, var(--accent) 0, #0ea5e9 70%);
      box-shadow: 0 0 12px rgba(56, 189, 248, 0.9);
    }

    .dot.Friction {
      background: radial-gradient(circle, #f97316 0, #fb923c 70%);
      box-shadow: 0 0 12px rgba(248, 171, 85, 0.9);
    }

    .question-text {
      font-size: 1rem;
      margin-bottom: 1rem;
    }

    .question-counter {
      font-size: 0.8rem;
      color: var(--muted);
      margin-bottom: 0.5rem;
    }

    .buttons-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      margin-top: 0.75rem;
    }

    button {
      border-radius: 999px;
      border: none;
      padding: 0.65rem 1.3rem;
      font-size: 0.9rem;
      font-weight: 500;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.45rem;
      background: rgba(31, 41, 55, 0.9);
      color: var(--text);
      transition:
        transform 0.08s ease-out,
        box-shadow 0.08s ease-out,
        background 0.08s ease-out,
        border 0.1s ease-out;
      box-shadow: 0 8px 20px rgba(15, 23, 42, 0.65);
      border: 1px solid rgba(148, 163, 184, 0.32);
    }

    button span.icon {
      display: inline-flex;
      width: 18px;
      height: 18px;
      align-items: center;
      justify-content: center;
      font-size: 0.9rem;
    }

    button.primary {
      background: radial-gradient(circle at top left, #38bdf8, #0ea5e9);
      color: #0b1120;
      border-color: rgba(56, 189, 248, 0.9);
      box-shadow:
        0 12px 30px rgba(56, 189, 248, 0.45),
        0 0 16px rgba(56, 189, 248, 0.85);
    }

    button.yes {
      background: radial-gradient(circle at top left, #4ade80, #22c55e);
      color: #052e16;
      border-color: rgba(74, 222, 128, 0.9);
      box-shadow:
        0 12px 30px rgba(22, 163, 74, 0.45),
        0 0 16px rgba(34, 197, 94, 0.8);
    }

    button.no {
      background: radial-gradient(circle at top left, #fb7185, #ef4444);
      color: #450a0a;
      border-color: rgba(248, 113, 113, 0.9);
      box-shadow:
        0 12px 30px rgba(185, 28, 28, 0.45),
        0 0 16px rgba(248, 113, 113, 0.85);
    }

    button:active {
      transform: translateY(1px) scale(0.99);
      box-shadow: 0 4px 10px rgba(15, 23, 42, 0.7);
    }

    .timer-bar {
      position: relative;
      width: 100%;
      height: 6px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.95);
      border: 1px solid rgba(148, 163, 184, 0.3);
      overflow: hidden;
      margin: 0.4rem 0 0.8rem 0;
    }

    .timer-fill {
      position: absolute;
      inset: 0;
      transform-origin: left;
      background: linear-gradient(90deg, #22c55e, #eab308, #f97316, #ef4444);
      transition: transform 1s linear;
    }

    .small-label {
      font-size: 0.8rem;
      color: var(--muted);
    }

    .pill-compact {
      display: inline-flex;
      padding: 0.1rem 0.5rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--muted);
    }

    .perspectives {
      display: grid;
      /* make cards larger and easier to read */
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 1rem;
      margin-top: 0.9rem;
      align-items: start;
      /* allow the perspectives area to grow and scroll if inside a flex card */
      flex: 1 1 auto;
      min-height: 0;
      overflow: auto;
    }

    .perspective-card {
      background: radial-gradient(circle at top left, rgba(56, 189, 248, 0.08), rgba(15, 23, 42, 0.98));
      border-radius: 14px;
      padding: 1rem 1.1rem;
      border: 1px solid rgba(148, 163, 184, 0.42);
      font-size: 1rem;
      line-height: 1.45;
      box-shadow: 0 6px 18px rgba(2,6,23,0.45);
    }

    .perspective-title {
      font-weight: 700;
      margin-bottom: 0.35rem;
      font-size: 1.05rem;
      color: var(--text);
    }

    .badge {
      display: inline-flex;
      padding: 0.2rem 0.55rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--muted);
      margin-bottom: 0.45rem;
    }

    .summary-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 0.9rem;
      margin-top: 0.8rem;
    }

    .summary-box {
      background: radial-gradient(circle at top left, rgba(56, 189, 248, 0.06), rgba(15, 23, 42, 0.98));
      border-radius: 14px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      padding: 0.7rem 0.9rem;
      font-size: 0.9rem;
    }

    .summary-label {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--muted);
      margin-bottom: 0.25rem;
    }

    .summary-value {
      font-size: 0.95rem;
      font-weight: 500;
    }

    .summary-value.changed {
      color: #facc15;
    }

    .reflection-list {
      margin: 0.5rem 0 0;
      padding-left: 1.1rem;
      font-size: 0.85rem;
      color: var(--muted);
    }

    .reflection-list li {
      margin-bottom: 0.3rem;
    }

    .highlight-text {
      color: #a5f3fc;
    }

    @media (max-width: 640px) {
      .app-shell {
        padding: 1.25rem;
        border-radius: 18px;
      }

      h1 {
        font-size: 1.3rem;
      }
    }